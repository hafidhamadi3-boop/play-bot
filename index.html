<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-Pay: The Future of Mining & Gaming</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="languages.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #050507;
            --card-bg: rgba(22, 22, 30, 0.8);
            --accent: #00d2ff;
            --neon-purple: #9d50bb;
            --gold: #ffcf4b;
            --glass: rgba(255, 255, 255, 0.08);
        }

        body {
            background: linear-gradient(-45deg, #050507, #0b0b1a, #050507);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: white;
            font-family: 'Cairo', sans-serif;
            margin: 0;
            overflow-x: hidden;
            user-select: none;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .news-ticker {
            background: rgba(0, 210, 255, 0.1);
            color: var(--accent);
            white-space: nowrap;
            overflow: hidden;
            padding: 5px 0;
            font-size: 13px;
            border-bottom: 1px solid rgba(0, 210, 255, 0.2);
        }
        .ticker-content {
            display: inline-block;
            animation: ticker 25s linear infinite;
        }
        @keyframes ticker {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(15px);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .chat-fab {
            position: fixed;
            bottom: 80px;
            left: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--accent), var(--neon-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px var(--accent);
            z-index: 999;
            animation: pulse 2s infinite;
            cursor: pointer;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 210, 255, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(0, 210, 255, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(0, 210, 255, 0); }
        }

        .news-hub {
            margin: 15px;
            border-radius: 20px;
            overflow: hidden;
            background: var(--card-bg);
            border: 1px solid var(--glass);
        }
        .video-container {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .video-placeholder {
            position: absolute;
            color: white;
            text-align: center;
        }

        .mining-card {
            margin: 15px;
            padding: 25px;
            background: radial-gradient(circle at top right, rgba(0, 210, 255, 0.1), transparent);
            border-radius: 25px;
            border: 1px solid rgba(0, 210, 255, 0.2);
            text-align: center;
        }
        .claim-btn {
            background: linear-gradient(to right, #00d2ff, #3a7bd5);
            border: none;
            padding: 12px 50px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            font-size: 18px;
            margin-top: 15px;
            box-shadow: 0 10px 20px rgba(0, 210, 255, 0.3);
            transition: 0.3s;
        }
        .claim-btn:active { transform: scale(0.9); }

        .live-activity {
            background: rgba(0, 0, 0, 0.5);
            padding: 8px;
            font-size: 11px;
            color: #aaa;
            text-align: center;
            position: fixed;
            bottom: 0;
            width: 100%;
            z-index: 100;
        }

        .sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 85%;
            height: 100%;
            background: #0a0a0f;
            z-index: 2000;
            transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            padding: 25px;
            box-sizing: border-box;
        }
        .sidebar.active { right: 0; }

        .wallet-card {
            background: linear-gradient(135deg, #1e1e2e, #11111d);
            padding: 20px;
            border-radius: 20px;
            margin: 20px 0;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: 0.3s;
        }

        .chat-window {
            position: fixed;
            bottom: -100%;
            left: 0;
            width: 100%;
            height: 70%;
            background: #111118;
            z-index: 2001;
            transition: 0.4s;
            border-radius: 30px 30px 0 0;
            padding: 20px;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.8);
        }
        .chat-window.active { bottom: 0; }

        .coin {
            position: fixed;
            z-index: 3000;
            font-size: 24px;
            pointer-events: none;
            animation: fall 1s linear forwards;
        }
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        .leaderboard-fab {
            position: fixed;
            bottom: 155px;
            left: 20px;
            width: 55px;
            height: 55px;
            background: linear-gradient(45deg, #ffd700, #ffa500);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
            z-index: 998;
            cursor: pointer;
            animation: float 3s ease-in-out infinite;
            color: white;
            font-size: 24px;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª */
        #langSelector {
            background: #1a1a2e;
            color: white;
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 8px;
            width: 100%;
            font-family: 'Cairo';
            outline: none;
        }
    </style>
</head>
<body>

    <div class="news-ticker">
        <div class="ticker-content" id="ticker-text">
            ğŸ”¥ Ø¥Ø·Ù„Ø§Ù‚ Ø¹Ù…Ù„Ø© XPC Ù‚Ø±ÙŠØ¨Ø§Ù‹.. Ø§Ø³ØªØ¹Ø¯ÙˆØ§ Ù„Ù„Ø«Ø±Ø§Ø¡! | ğŸš€ Ù…Ø¨Ø±ÙˆÙƒ "Ø£Ø­Ù…Ø¯" Ø±Ø¨Ø­ 1000 Ù†Ù‚Ø·Ø© Ø§Ù„ÙŠÙˆÙ… | ğŸ’ X-Pay: Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø·Ù…ÙˆØ­ÙŠÙ† Ø§Ù„Ø£ÙˆÙ„..
        </div>
    </div>

    <div class="top-nav">
        <i class="fas fa-bars fa-lg" onclick="toggleMenu()" style="color: var(--accent);"></i>
        <div style="font-weight: bold; letter-spacing: 2px; font-size: 20px;" data-i18n="welcome">X-PAY PRO</div>
        <div class="notifications"><i class="fas fa-bell fa-lg"></i></div>
    </div>

    <div class="news-hub">
        <div class="video-container" onclick="playPromo()">
            <div class="video-placeholder">
                <i class="fas fa-play-circle fa-4x" style="color: var(--accent); opacity: 0.8;"></i>
                <p data-i18n="watch_video">Ø´Ø§Ù‡Ø¯ ÙƒÙŠÙ ØªØ¶Ø§Ø¹Ù Ø£Ø±Ø¨Ø§Ø­Ùƒ (10+ Ù†Ù‚Ø§Ø·)</p>
            </div>
        </div>
        <div style="padding: 15px; background: rgba(255,255,255,0.03);">
            <small style="color: var(--accent);" data-i18n="latest_news">Ø¢Ø®Ø± Ø§Ù„Ø£Ø®Ø¨Ø§Ø±:</small>
            <p style="margin: 5px 0 0; font-size: 14px;">Ø¨Ø¯Ø¡ Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„Ø¹Ù…Ù„Ø§Øª Ù„Ù„Ù…Ø³ØªÙˆÙ‰ 10 ÙÙ…Ø§ ÙÙˆÙ‚!</p>
        </div>
    </div>

    <div class="mining-card">
        <h4 style="margin: 0; color: #888;" data-i18n="mining_power">Ø·Ø§Ù‚Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h4>
        <div style="font-size: 32px; font-weight: bold; margin: 10px 0; color: var(--accent);">
            <span id="mining-val">0.00542</span> <small style="font-size: 14px;">XPC/H</small>
        </div>
        <div style="width: 100%; height: 6px; background: #222; border-radius: 3px; overflow: hidden;">
            <div style="width: 65%; height: 100%; background: var(--accent); box-shadow: 0 0 10px var(--accent);"></div>
        </div>
        <button class="claim-btn" onclick="claimRewards(event)" data-i18n="claim">Ø¬Ù…Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (Claim)</button>
    </div>

    <h4 style="margin: 20px 20px 10px;" data-i18n="games_title">ğŸ® Ø§Ø³ØªØ«Ù…Ø± ÙˆÙ‚ØªÙƒ</h4>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 0 15px 100px;">
        <div class="game-card" onclick="location.href='spin.html'">
            <div style="font-size: 40px; margin-bottom: 10px;">ğŸ¡</div>
            <b data-i18n="luck_wheel">Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸</b><br>
            <small style="color: #ff4757;">â¤ï¸ 3 Ù…Ø­Ø§ÙˆÙ„Ø§Øª</small>
        </div>
        <div class="game-card" onclick="location.href='quiz.html'">
            <div style="font-size: 40px; margin-bottom: 10px;">ğŸ§ </div>
            <b data-i18n="quiz_game">ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡</b><br>
            <small style="color: #2ed573;">Ø§Ø±Ø¨Ø­ Ø§Ù„Ø¢Ù†</small>
        </div>
    </div>

    <div class="sidebar" id="sidebar">
        <div style="text-align: left;"><i class="fas fa-times fa-2x" onclick="toggleMenu()"></i></div>
        <div style="text-align: center; margin-top: 10px;">
            <img src="https://cdn-icons-png.flaticon.com/512/64/64572.png" style="width: 80px; border: 3px solid var(--accent); border-radius: 50%;">
            <h3 id="username_side" style="margin: 10px 0;">Ù„Ø§Ø¹Ø¨ Ø·Ù…ÙˆØ­</h3>
            <span class="badge" style="background: var(--accent); color: #000; padding: 3px 10px; border-radius: 10px; font-size: 12px; font-weight: bold;">Ù…Ø³ØªÙˆÙ‰ 15</span>
        </div>

        <div class="wallet-card">
            <h4 style="margin: 0 0 15px; color: var(--accent);"><i class="fas fa-wallet"></i> <span data-i18n="wallet">Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©</span></h4>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span data-i18n="game_pts">Ù†Ù‚Ø§Ø· Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:</span> <b id="play-pts">450</b>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                <span data-i18n="mine_pts">Ø­ØµÙŠÙ„Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ†:</span> <b id="mine-pts">1,200</b>
            </div>
            <hr style="border: 0; border-top: 1px solid #333;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <span>Ø±ØµÙŠØ¯ XPC:</span> <b style="color: var(--gold); font-size: 20px;">25.5</b>
            </div>
            <button class="claim-btn" style="width: 100%; font-size: 14px; padding: 8px;" data-i18n="convert">ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· ğŸ”„</button>
        </div>

        <div class="menu-items">
            <div style="padding: 15px 0; border-bottom: 1px solid #222;">
                <i class="fas fa-language"></i> <span data-i18n="language_label">Ø§Ù„Ù„ØºØ©</span>
                <div style="margin-top: 10px;">
                    <select id="langSelector" onchange="changeLanguage(this.value)">
                        <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                        <option value="en">ğŸ‡ºğŸ‡¸ English</option>
                        <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
                        <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
                        <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
                        <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                        <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                    </select>
                </div>
            </div>
            <div style="padding: 15px 0; border-bottom: 1px solid #222;"><i class="fas fa-user-edit"></i> <span data-i18n="edit_profile">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù</span></div>
            <div style="padding: 15px 0; border-bottom: 1px solid #222;"><i class="fas fa-store"></i> <span data-i18n="store">Ø§Ù„Ù…ØªØ¬Ø±</span></div>
            <div style="padding: 15px 0;"><i class="fas fa-headset"></i> <span data-i18n="support">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</span></div>
        </div>
    </div>

    <div class="chat-window" id="chat-window">
        <div style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; padding-bottom: 10px;">
            <b style="color: var(--accent);">ğŸ’¬ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© (Trollbox)</b>
            <i class="fas fa-times" onclick="toggleChat()"></i>
        </div>
        <div id="chat-messages" style="height: 80%; overflow-y: auto; padding: 15px 0;">
            <div style="margin-bottom: 10px;"><small style="color: var(--accent);">Ø¨Ø§Ø³Ù…:</small> Ù…ØªÙ‰ Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬ØŸ</div>
        </div>
        <div style="display: flex; gap: 10px;">
            <input type="text" placeholder="..." style="flex: 1; background: #222; border: none; border-radius: 10px; color: white; padding: 10px;">
            <button style="background: var(--accent); border: none; border-radius: 10px; padding: 0 15px;"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <div class="chat-fab" onclick="toggleChat()">
        <i class="fas fa-comments fa-2x"></i>
    </div>

    <div class="leaderboard-fab" onclick="window.location.href='leaderboard.html'">
        <i class="fas fa-trophy"></i>
    </div>

    <div class="live-activity" id="live-activity">
        ğŸ‘¤ 4,250 Ù…Ø³ØªØ®Ø¯Ù… Ù†Ø´Ø· Ø§Ù„Ø¢Ù† | â›ï¸ Ø¬Ø§Ø±ÙŠ ØªØ¹Ø¯ÙŠÙ† 12.5 XPC...
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù„ØºØ§Øª
        function changeLanguage(lang) {
            if (typeof translations === 'undefined') return;
            const data = translations[lang];
            
            document.documentElement.dir = data.dir;
            document.documentElement.lang = lang;

            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (data[key]) {
                    element.innerText = data[key];
                }
            });

            localStorage.setItem('preferredLang', lang);
            tg.HapticFeedback.impactOccurred('medium');
        }

        // Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('active');
            tg.HapticFeedback.impactOccurred('medium');
        }

        function toggleChat() {
            document.getElementById('chat-window').classList.toggle('active');
            tg.HapticFeedback.impactOccurred('light');
        }

        function claimRewards(e) {
            for(let i=0; i<15; i++) {
                createCoin(e.clientX || window.innerWidth/2, e.clientY || window.innerHeight/2);
            }
            tg.HapticFeedback.notificationOccurred('success');
            tg.showAlert("Success! Points added.");
        }

        function createCoin(x, y) {
            const coin = document.createElement('div');
            coin.className = 'coin';
            coin.innerHTML = 'ğŸ’';
            coin.style.left = x + 'px';
            coin.style.top = y + 'px';
            document.body.appendChild(coin);
            setTimeout(() => coin.remove(), 1000);
        }

        function playPromo() {
            tg.showConfirm("Watch video?", (ok) => {
                if(ok) tg.showAlert("Loading...");
            });
        }

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„
        window.onload = () => {
            const savedLang = localStorage.getItem('preferredLang') || 'ar';
            document.getElementById('langSelector').value = savedLang;
            // Ù†ØªØ£ÙƒØ¯ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„ØªØ±Ø¬Ù…Ø© Ù‚Ø¨Ù„ Ø§Ù„ØªÙ†ÙÙŠØ°
            if (typeof translations !== 'undefined') {
                changeLanguage(savedLang);
            }

            if (tg.initDataUnsafe && tg.initDataUnsafe.user) {
                document.getElementById('username_side').innerText = tg.initDataUnsafe.user.first_name;
            }
        };

        setInterval(() => {
            const users = Math.floor(Math.random() * 1000 + 4000);
            document.getElementById('live-activity').innerText = `ğŸ‘¤ ${users.toLocaleString()} | â›ï¸ ${(Math.random()*20).toFixed(1)} XPC...`;
        }, 5000);
    </script>
</body>
</html>
